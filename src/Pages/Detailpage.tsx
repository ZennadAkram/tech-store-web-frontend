import { useEffect, useState, type JSX } from "react";
import { fetchdetailproduct } from "../API/ProductsAPI";
import { Navbar } from "../components/Navbar";
import { SupportAndMore } from "../components/supportandmore";
import type { Product } from "../types/Product";
import {  Heart } from "lucide-react";
import { ChoiceBars } from "../components/choicebars";

import type { itemupdate, itemwithproductid } from "../types/Cart";
import { addtocart, addtocartproductid } from "../API/CartAPI";
import { useCart } from "../components/CartIdContext";
import { useParams } from "react-router-dom";
 

export function Detailproduct(){
   const { id } = useParams();
   const { cart, fetchCart } = useCart();
   useEffect(() => {
    fetchCart();
  }, []);
  const addtoCart = async () => {
              try {
                
                
                const updateitem: itemupdate = {
                  cart: cart?.id ?? 0,
                  version: product?.versions[chosenversion].id ?? 0, 
                  input_color_id : product?.versions[chosenversion].colors[chosencolor]?.id ?? 0, 
                  quantity: quantity
                };
                
                 await addtocart(updateitem);
                  await fetchCart();
              } catch (error) {
                  console.error(error);
              }
          }
  
          const addtoCartwithproductid = async () => {
              try {
                
                
                const updateitem: itemwithproductid = {
                  cart: cart?.id ?? 0,
                  product_id:product?.id ?? 0,  
                 
                  quantity: quantity
                };
                
                 await addtocartproductid(updateitem);
                  await fetchCart();
              } catch (error) {
                  console.error(error);
              }
          }
  
    const [product,setproduct]=useState<Product>()
    const bars=["About Product","Details","Specs"]
   const [loading, setLoading] = useState(true);
   const [selectedchoice,setselectedchoice]=useState<string>("");
   const [liked,setliked]=useState<boolean>(false);
   const [chosenversion,setchosenversion]=useState<number>(0)
   const [chosencolor,setchosencolor]=useState<number>(-1);
   const [quantity,setquantity]=useState<number>(1);
   const [imagechanger,setimagechanger]=useState<number>(0);

useEffect(() => {
    const fetchdetail = async () => {
  try {
    if (!id) {
      throw new Error("Product id is undefined");
    }
    const data = await fetchdetailproduct(Number(id));
    setproduct(data);
    console.log("the data",data)
  } catch (error) {
    console.error(error);
  } finally {
    setLoading(false);
   console.log(loading)
  }
};
  fetchdetail();
  
}, [id]);

const newliner = (phrase: string): JSX.Element[] => {
  return phrase.split('.').map((part, idx, arr) =>
    idx < arr.length - 1 && part.trim() !== ''
      ? <span key={idx}>{part}.<br /></span>
      : part.trim() !== ''
        ? <span key={idx}>{part}</span>
        : null
  ).filter(Boolean) as JSX.Element[];
};





return(
    <>
    <Navbar cart={cart} />
    <div className="flex flex-col
    
    ">
   <div className="flex flex-col
   md:flex-row md:w-full md:justify-between
   lg:justify-start
   ">
   <div className="relative  p-5 flex justify-center items-center
   md:order-2 md:w-full
   lg:w-1/3 
   ">
 
  <div
    onClick={() => setliked(!liked)}
    className={`
      absolute top-5 left-5
      h-12 w-12
      text-[#A2A6B0] border-[3px] border-[#A2A6B0] cursor-pointer rounded-full
      flex justify-center items-center p-2
      ${liked ? "bg-red-500 text-white border-white" : ""}
    `}
  >
    <Heart />
  </div>

  {/* Image centered in the parent */}
  <div className=" flex w-full flex-col gap-4 justify-center items-center">
    <img
      className=" w-[50%] object-cover max-h-[300px] 
      md:w-full md:object-contain
      
      "
      src={
        product?.versions?.[chosenversion]?.images?.[imagechanger]?.image ??
        product?.poster_image ??
        ""
      }
      alt={product?.name}
    />
    <svg width="214" height="24" viewBox="0 0 214 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<g clip-path="url(#clip0_208_5321)">
<path d="M21.6148 9.36418L16.7322 13.5733H4.63956C3.51162 13.5718 2.42209 13.9659 1.57642 14.6812L7.67546 9.42207L7.76904 9.34262L15.4103 2.74862C16.6424 1.68649 18.3722 1.33497 19.9481 1.82646C21.524 2.31796 22.7066 3.5778 23.0503 5.13141C23.3941 6.68503 22.8469 8.29638 21.6148 9.35851V9.36418Z" fill="#F15B41"/>
<path d="M4.63973 10.5071C7.20218 10.5071 9.27946 8.51646 9.27946 6.06083C9.27946 3.60519 7.20218 1.6145 4.63973 1.6145C2.07728 1.6145 0 3.60519 0 6.06083C0 8.51646 2.07728 10.5071 4.63973 10.5071Z" fill="#F99D1D"/>
<path d="M4.63966 13.5732C3.51171 13.5718 2.42218 13.9659 1.57651 14.6811L1.53742 14.7152C-0.367572 16.3571 -0.522957 19.168 1.19036 20.9936C2.90368 22.8192 5.8369 22.9681 7.74189 21.3262L16.7335 13.5744L4.63966 13.5732Z" fill="#272560"/>
<path d="M16.7261 13.5766L7.7335 21.3284C6.882 22.0622 5.77647 22.4667 4.63135 22.4636L18.5052 22.4635C21.1812 22.4226 23.0706 20.4932 23.0706 18.0178C23.0706 15.5424 21.0383 13.6108 18.5052 13.572L16.7261 13.5766Z" fill="#00B6BD"/>
<path d="M29.7969 18.7467C29.4107 18.7604 29.037 18.6143 28.7715 18.346C28.5115 18.0751 28.3729 17.7178 28.3853 17.3505C28.3817 16.9806 28.4774 16.6159 28.6633 16.2914C28.8267 16.0012 29.0262 15.731 29.2575 15.4866L34.998 9.28648H29.9942C29.5094 9.28648 29.1624 9.12757 28.9723 8.812C28.7872 8.49499 28.6948 8.13622 28.7049 7.77335C28.6916 7.42363 28.797 7.07917 29.0056 6.79146C29.2123 6.51918 29.5486 6.36469 29.9003 6.38054H38.741C39.1148 6.36409 39.4794 6.49453 39.7499 6.74151C40.0006 6.98102 40.1278 7.32157 40.1278 7.75292C40.1383 8.08881 40.065 8.42228 39.9139 8.72573C39.7688 8.99011 39.5869 9.23449 39.3732 9.45221L33.395 15.8396H39.0595C39.4003 15.8315 39.7247 15.9791 39.9329 16.2369C40.1547 16.5252 40.2667 16.8773 40.2501 17.2347C40.2663 17.6071 40.1729 17.9764 39.9804 18.3006C39.7867 18.5969 39.4433 18.7478 38.9609 18.7478L29.7969 18.7467Z" fill="#272560"/>
<path d="M43.6843 18.9101C42.1111 18.9101 41.7831 18.1382 41.7831 17.4912V8.04688C41.7831 7.55309 41.9388 7.15352 42.2477 6.85952C42.5567 6.56552 43.0486 6.41569 43.7117 6.41569C44.2701 6.41569 44.7122 6.53715 45.0271 6.77779C45.342 7.01844 45.5166 7.40666 45.5166 7.90612V17.4413C45.5166 17.96 45.3455 18.3414 45.0081 18.5764C44.6706 18.8114 44.2369 18.9101 43.6843 18.9101ZM43.6843 5.40201C43.0712 5.40201 42.5685 5.2306 42.1883 4.89233C41.808 4.55406 41.6096 4.08752 41.6096 3.51428C41.595 3.00608 41.804 2.51529 42.1859 2.1612C42.5626 1.80817 43.0676 1.62769 43.6843 1.62769C44.1929 1.62874 44.6872 1.78815 45.0924 2.08174C45.5345 2.39277 45.759 2.87633 45.759 3.51882C45.759 4.09206 45.5642 4.55633 45.1804 4.89801C44.7965 5.23969 44.2939 5.40542 43.6843 5.40542V5.40201Z" fill="#272560"/>
<path d="M49.6185 22.5292C48.1474 22.5292 47.8361 21.7448 47.8361 21.0864V7.72687C47.8234 7.30843 47.9919 6.90351 48.3019 6.60762C48.6097 6.31361 49.1028 6.16377 49.7659 6.16377C50.1783 6.15977 50.5857 6.25007 50.9541 6.42713C51.3451 6.61897 51.5483 6.9947 51.5483 7.5339C51.6275 7.44687 51.7126 7.35757 51.8037 7.266C52.0535 7.02383 52.3327 6.81117 52.6355 6.63259C53.3715 6.19376 54.2242 5.96676 55.0917 5.97875C55.923 5.96332 56.7465 6.13357 57.4967 6.47594C58.1833 6.7997 58.7811 7.27241 59.2423 7.85628C59.7229 8.48078 60.0739 9.18747 60.2761 9.93814C60.5074 10.7864 60.6209 11.66 60.6136 12.5365C60.6221 13.4293 60.4915 14.3184 60.2262 15.1746C59.9918 15.9351 59.6069 16.6456 59.0926 17.2678C58.597 17.854 57.9689 18.3255 57.2555 18.647C56.4792 18.987 55.6331 19.1565 54.7792 19.143C54.2074 19.1587 53.6369 19.082 53.0918 18.916C52.7004 18.7892 52.3284 18.6133 51.9856 18.3927C51.7997 18.2722 51.6284 18.1325 51.4746 17.9761V21.0183C51.4746 21.5473 51.3237 21.9378 51.0254 22.1784C50.7272 22.4191 50.2685 22.5292 49.6185 22.5292ZM54.1411 9.00505C53.7362 8.99569 53.3356 9.08599 52.9778 9.26727C52.641 9.44966 52.3525 9.70321 52.1341 10.0085C51.8887 10.3539 51.7097 10.7383 51.6053 11.1437C51.4823 11.6147 51.422 12.0987 51.4259 12.5842C51.4259 13.6898 51.6635 14.5763 52.1388 15.22C52.6141 15.8636 53.2594 16.1644 54.1458 16.1644C55.0323 16.1644 55.6775 15.842 56.1255 15.178C56.5735 14.5139 56.8123 13.6296 56.8123 12.5842C56.8138 12.1 56.7515 11.6175 56.6269 11.1482C56.5225 10.7446 56.3474 10.3608 56.1088 10.0131C55.8967 9.70733 55.6116 9.45406 55.2771 9.27408C54.9289 9.09264 54.5376 8.99998 54.1411 9.00505Z" fill="#272560"/>
</g>
<path d="M67.8167 4.06079L67.8167 21.5" stroke="#00AEB8" stroke-width="1.5" stroke-linecap="round"/>
<path d="M80.1285 10.08C79.6151 10.08 79.1518 9.96667 78.7385 9.74C78.3318 9.50667 78.0085 9.18 77.7685 8.76C77.5351 8.33333 77.4185 7.83667 77.4185 7.27C77.4185 6.70333 77.5385 6.21 77.7785 5.79C78.0185 5.36333 78.3451 5.03667 78.7585 4.81C79.1718 4.57667 79.6351 4.46 80.1485 4.46C80.6618 4.46 81.1251 4.57667 81.5385 4.81C81.9585 5.03667 82.2851 5.36333 82.5185 5.79C82.7585 6.21 82.8785 6.70333 82.8785 7.27C82.8785 7.83 82.7585 8.32333 82.5185 8.75C82.2785 9.17667 81.9485 9.50667 81.5285 9.74C81.1085 9.96667 80.6418 10.08 80.1285 10.08ZM80.1285 9.47C80.4885 9.47 80.8218 9.39 81.1285 9.23C81.4351 9.06333 81.6818 8.81667 81.8685 8.49C82.0618 8.15667 82.1585 7.75 82.1585 7.27C82.1585 6.79 82.0651 6.38667 81.8785 6.06C81.6918 5.72667 81.4451 5.48 81.1385 5.32C80.8318 5.15333 80.4985 5.07 80.1385 5.07C79.7785 5.07 79.4451 5.15333 79.1385 5.32C78.8318 5.48 78.5851 5.72667 78.3985 6.06C78.2185 6.38667 78.1285 6.79 78.1285 7.27C78.1285 7.75 78.2185 8.15667 78.3985 8.49C78.5851 8.81667 78.8285 9.06333 79.1285 9.23C79.4351 9.39 79.7685 9.47 80.1285 9.47ZM91.3545 4.54L89.6445 10H88.9445L87.4345 5.42L85.9245 10H85.2145L83.5045 4.54H84.2145L85.5745 9.29L87.1045 4.54H87.8045L89.3145 9.3L90.6645 4.54H91.3545ZM94.8688 4.44C95.5221 4.44 96.0555 4.64333 96.4688 5.05C96.8821 5.45 97.0888 6.03333 97.0888 6.8V10H96.3988V6.88C96.3988 6.28667 96.2488 5.83333 95.9488 5.52C95.6555 5.20667 95.2521 5.05 94.7388 5.05C94.2121 5.05 93.7921 5.21667 93.4788 5.55C93.1655 5.88333 93.0088 6.37333 93.0088 7.02V10H92.3088V4.54H93.0088V5.47C93.1821 5.13667 93.4321 4.88333 93.7588 4.71C94.0855 4.53 94.4555 4.44 94.8688 4.44ZM101.731 3.51C101.591 3.51 101.471 3.46 101.371 3.36C101.271 3.26 101.221 3.13667 101.221 2.99C101.221 2.84333 101.271 2.72333 101.371 2.63C101.471 2.53 101.591 2.48 101.731 2.48C101.871 2.48 101.991 2.53 102.091 2.63C102.191 2.72333 102.241 2.84333 102.241 2.99C102.241 3.13667 102.191 3.26 102.091 3.36C101.991 3.46 101.871 3.51 101.731 3.51ZM102.081 4.54V10H101.381V4.54H102.081ZM104.576 5.13V8.52C104.576 8.85333 104.64 9.08333 104.766 9.21C104.893 9.33667 105.116 9.4 105.436 9.4H106.076V10H105.326C104.833 10 104.466 9.88667 104.226 9.66C103.986 9.42667 103.866 9.04667 103.866 8.52V5.13H103.106V4.54H103.866V3.17H104.576V4.54H106.076V5.13H104.576ZM112.535 4.44C113.188 4.44 113.721 4.64333 114.135 5.05C114.548 5.45 114.755 6.03333 114.755 6.8V10H114.065V6.88C114.065 6.28667 113.915 5.83333 113.615 5.52C113.321 5.20667 112.918 5.05 112.405 5.05C111.878 5.05 111.458 5.21667 111.145 5.55C110.831 5.88333 110.675 6.37333 110.675 7.02V10H109.975V4.54H110.675V5.47C110.848 5.13667 111.098 4.88333 111.425 4.71C111.751 4.53 112.121 4.44 112.535 4.44ZM118.693 10.08C118.18 10.08 117.716 9.96667 117.303 9.74C116.896 9.50667 116.573 9.18 116.333 8.76C116.1 8.33333 115.983 7.83667 115.983 7.27C115.983 6.70333 116.103 6.21 116.343 5.79C116.583 5.36333 116.91 5.03667 117.323 4.81C117.736 4.57667 118.2 4.46 118.713 4.46C119.226 4.46 119.69 4.57667 120.103 4.81C120.523 5.03667 120.85 5.36333 121.083 5.79C121.323 6.21 121.443 6.70333 121.443 7.27C121.443 7.83 121.323 8.32333 121.083 8.75C120.843 9.17667 120.513 9.50667 120.093 9.74C119.673 9.96667 119.206 10.08 118.693 10.08ZM118.693 9.47C119.053 9.47 119.386 9.39 119.693 9.23C120 9.06333 120.246 8.81667 120.433 8.49C120.626 8.15667 120.723 7.75 120.723 7.27C120.723 6.79 120.63 6.38667 120.443 6.06C120.256 5.72667 120.01 5.48 119.703 5.32C119.396 5.15333 119.063 5.07 118.703 5.07C118.343 5.07 118.01 5.15333 117.703 5.32C117.396 5.48 117.15 5.72667 116.963 6.06C116.783 6.38667 116.693 6.79 116.693 7.27C116.693 7.75 116.783 8.15667 116.963 8.49C117.15 8.81667 117.393 9.06333 117.693 9.23C118 9.39 118.333 9.47 118.693 9.47ZM129.919 4.54L128.209 10H127.509L125.999 5.42L124.489 10H123.779L122.069 4.54H122.779L124.139 9.29L125.669 4.54H126.369L127.879 9.3L129.229 4.54H129.919ZM131.513 8.84L130.473 11.46H129.993L130.733 8.84H131.513ZM140.076 4.54V10H139.376V9.04C139.216 9.38 138.969 9.64 138.636 9.82C138.303 10 137.929 10.09 137.516 10.09C136.863 10.09 136.329 9.89 135.916 9.49C135.503 9.08333 135.296 8.49667 135.296 7.73V4.54H135.986V7.65C135.986 8.24333 136.133 8.69667 136.426 9.01C136.726 9.32333 137.133 9.48 137.646 9.48C138.173 9.48 138.593 9.31333 138.906 8.98C139.219 8.64667 139.376 8.15667 139.376 7.51V4.54H140.076ZM142.364 5.74C142.537 5.37333 142.811 5.07 143.184 4.83C143.564 4.58333 144.014 4.46 144.534 4.46C145.027 4.46 145.471 4.57667 145.864 4.81C146.264 5.03667 146.574 5.36333 146.794 5.79C147.021 6.21 147.134 6.7 147.134 7.26C147.134 7.82 147.021 8.31333 146.794 8.74C146.574 9.16667 146.264 9.49667 145.864 9.73C145.471 9.96333 145.027 10.08 144.534 10.08C144.021 10.08 143.574 9.96 143.194 9.72C142.814 9.47333 142.537 9.16667 142.364 8.8V12.58H141.674V4.54H142.364V5.74ZM146.424 7.26C146.424 6.80667 146.334 6.41667 146.154 6.09C145.981 5.75667 145.741 5.50333 145.434 5.33C145.127 5.15667 144.781 5.07 144.394 5.07C144.021 5.07 143.677 5.16 143.364 5.34C143.057 5.52 142.814 5.77667 142.634 6.11C142.454 6.44333 142.364 6.83 142.364 7.27C142.364 7.71 142.454 8.09667 142.634 8.43C142.814 8.76333 143.057 9.02 143.364 9.2C143.677 9.38 144.021 9.47 144.394 9.47C144.781 9.47 145.127 9.38333 145.434 9.21C145.741 9.03 145.981 8.77333 146.154 8.44C146.334 8.1 146.424 7.70667 146.424 7.26ZM152.076 5.13V8.52C152.076 8.85333 152.14 9.08333 152.266 9.21C152.393 9.33667 152.616 9.4 152.936 9.4H153.576V10H152.826C152.333 10 151.966 9.88667 151.726 9.66C151.486 9.42667 151.366 9.04667 151.366 8.52V5.13H150.606V4.54H151.366V3.17H152.076V4.54H153.576V5.13H152.076ZM157.121 10.08C156.607 10.08 156.144 9.96667 155.731 9.74C155.324 9.50667 155.001 9.18 154.761 8.76C154.527 8.33333 154.411 7.83667 154.411 7.27C154.411 6.70333 154.531 6.21 154.771 5.79C155.011 5.36333 155.337 5.03667 155.751 4.81C156.164 4.57667 156.627 4.46 157.141 4.46C157.654 4.46 158.117 4.57667 158.531 4.81C158.951 5.03667 159.277 5.36333 159.511 5.79C159.751 6.21 159.871 6.70333 159.871 7.27C159.871 7.83 159.751 8.32333 159.511 8.75C159.271 9.17667 158.941 9.50667 158.521 9.74C158.101 9.96667 157.634 10.08 157.121 10.08ZM157.121 9.47C157.481 9.47 157.814 9.39 158.121 9.23C158.427 9.06333 158.674 8.81667 158.861 8.49C159.054 8.15667 159.151 7.75 159.151 7.27C159.151 6.79 159.057 6.38667 158.871 6.06C158.684 5.72667 158.437 5.48 158.131 5.32C157.824 5.15333 157.491 5.07 157.131 5.07C156.771 5.07 156.437 5.15333 156.131 5.32C155.824 5.48 155.577 5.72667 155.391 6.06C155.211 6.38667 155.121 6.79 155.121 7.27C155.121 7.75 155.211 8.15667 155.391 8.49C155.577 8.81667 155.821 9.06333 156.121 9.23C156.427 9.39 156.761 9.47 157.121 9.47ZM167.861 4.58C167.714 3.71333 167.211 3.28 166.351 3.28C165.697 3.28 165.207 3.53333 164.881 4.04C164.554 4.54667 164.404 5.37667 164.431 6.53C164.564 6.13 164.817 5.81667 165.191 5.59C165.571 5.35667 166.004 5.24 166.491 5.24C167.191 5.24 167.744 5.45667 168.151 5.89C168.564 6.31667 168.771 6.90667 168.771 7.66C168.771 8.1 168.684 8.5 168.511 8.86C168.344 9.21333 168.084 9.49667 167.731 9.71C167.384 9.92333 166.951 10.03 166.431 10.03C165.437 10.03 164.751 9.71333 164.371 9.08C163.997 8.44667 163.811 7.55 163.811 6.39C163.811 3.92333 164.657 2.69 166.351 2.69C166.991 2.69 167.494 2.86667 167.861 3.22C168.227 3.56667 168.444 4.02 168.511 4.58H167.861ZM166.361 5.84C166.047 5.84 165.751 5.90333 165.471 6.03C165.191 6.15667 164.961 6.35 164.781 6.61C164.607 6.86333 164.521 7.17667 164.521 7.55C164.521 8.09 164.681 8.54 165.001 8.9C165.321 9.26 165.787 9.44 166.401 9.44C166.914 9.44 167.324 9.28333 167.631 8.97C167.937 8.65667 168.091 8.23 168.091 7.69C168.091 7.11 167.941 6.65667 167.641 6.33C167.341 6.00333 166.914 5.84 166.361 5.84ZM179.424 4.44C180.064 4.44 180.584 4.64333 180.984 5.05C181.391 5.45 181.594 6.03333 181.594 6.8V10H180.904V6.88C180.904 6.28667 180.761 5.83333 180.474 5.52C180.187 5.20667 179.797 5.05 179.304 5.05C178.791 5.05 178.381 5.22 178.074 5.56C177.767 5.9 177.614 6.39333 177.614 7.04V10H176.924V6.88C176.924 6.28667 176.781 5.83333 176.494 5.52C176.207 5.20667 175.814 5.05 175.314 5.05C174.801 5.05 174.391 5.22 174.084 5.56C173.777 5.9 173.624 6.39333 173.624 7.04V10H172.924V4.54H173.624V5.48C173.797 5.14 174.044 4.88333 174.364 4.71C174.684 4.53 175.041 4.44 175.434 4.44C175.907 4.44 176.321 4.55333 176.674 4.78C177.034 5.00667 177.294 5.34 177.454 5.78C177.601 5.34667 177.851 5.01667 178.204 4.79C178.564 4.55667 178.971 4.44 179.424 4.44ZM185.539 10.08C185.025 10.08 184.562 9.96667 184.149 9.74C183.742 9.50667 183.419 9.18 183.179 8.76C182.945 8.33333 182.829 7.83667 182.829 7.27C182.829 6.70333 182.949 6.21 183.189 5.79C183.429 5.36333 183.755 5.03667 184.169 4.81C184.582 4.57667 185.045 4.46 185.559 4.46C186.072 4.46 186.535 4.57667 186.949 4.81C187.369 5.03667 187.695 5.36333 187.929 5.79C188.169 6.21 188.289 6.70333 188.289 7.27C188.289 7.83 188.169 8.32333 187.929 8.75C187.689 9.17667 187.359 9.50667 186.939 9.74C186.519 9.96667 186.052 10.08 185.539 10.08ZM185.539 9.47C185.899 9.47 186.232 9.39 186.539 9.23C186.845 9.06333 187.092 8.81667 187.279 8.49C187.472 8.15667 187.569 7.75 187.569 7.27C187.569 6.79 187.475 6.38667 187.289 6.06C187.102 5.72667 186.855 5.48 186.549 5.32C186.242 5.15333 185.909 5.07 185.549 5.07C185.189 5.07 184.855 5.15333 184.549 5.32C184.242 5.48 183.995 5.72667 183.809 6.06C183.629 6.38667 183.539 6.79 183.539 7.27C183.539 7.75 183.629 8.15667 183.809 8.49C183.995 8.81667 184.239 9.06333 184.539 9.23C184.845 9.39 185.179 9.47 185.539 9.47ZM192.125 4.44C192.778 4.44 193.311 4.64333 193.725 5.05C194.138 5.45 194.345 6.03333 194.345 6.8V10H193.655V6.88C193.655 6.28667 193.505 5.83333 193.205 5.52C192.911 5.20667 192.508 5.05 191.995 5.05C191.468 5.05 191.048 5.21667 190.735 5.55C190.421 5.88333 190.265 6.37333 190.265 7.02V10H189.565V4.54H190.265V5.47C190.438 5.13667 190.688 4.88333 191.015 4.71C191.341 4.53 191.711 4.44 192.125 4.44ZM196.803 5.13V8.52C196.803 8.85333 196.866 9.08333 196.993 9.21C197.119 9.33667 197.343 9.4 197.663 9.4H198.303V10H197.553C197.059 10 196.693 9.88667 196.453 9.66C196.213 9.42667 196.093 9.04667 196.093 8.52V5.13H195.333V4.54H196.093V3.17H196.803V4.54H198.303V5.13H196.803ZM202.057 4.44C202.471 4.44 202.841 4.52667 203.167 4.7C203.501 4.87333 203.761 5.14 203.947 5.5C204.141 5.85333 204.237 6.28667 204.237 6.8V10H203.547V6.88C203.547 6.28667 203.397 5.83333 203.097 5.52C202.804 5.20667 202.401 5.05 201.887 5.05C201.361 5.05 200.941 5.21667 200.627 5.55C200.314 5.88333 200.157 6.37333 200.157 7.02V10H199.457V2.6H200.157V5.47C200.331 5.14333 200.584 4.89 200.917 4.71C201.257 4.53 201.637 4.44 202.057 4.44ZM207.665 10.08C207.039 10.08 206.525 9.93667 206.125 9.65C205.732 9.35667 205.512 8.96 205.465 8.46H206.185C206.219 8.76667 206.362 9.01667 206.615 9.21C206.875 9.39667 207.222 9.49 207.655 9.49C208.035 9.49 208.332 9.4 208.545 9.22C208.765 9.04 208.875 8.81667 208.875 8.55C208.875 8.36333 208.815 8.21 208.695 8.09C208.575 7.97 208.422 7.87667 208.235 7.81C208.055 7.73667 207.809 7.66 207.495 7.58C207.089 7.47333 206.759 7.36667 206.505 7.26C206.252 7.15333 206.035 6.99667 205.855 6.79C205.682 6.57667 205.595 6.29333 205.595 5.94C205.595 5.67333 205.675 5.42667 205.835 5.2C205.995 4.97333 206.222 4.79333 206.515 4.66C206.809 4.52667 207.142 4.46 207.515 4.46C208.102 4.46 208.575 4.61 208.935 4.91C209.295 5.20333 209.489 5.61 209.515 6.13H208.815C208.795 5.81 208.669 5.55333 208.435 5.36C208.209 5.16 207.895 5.06 207.495 5.06C207.142 5.06 206.855 5.14333 206.635 5.31C206.415 5.47667 206.305 5.68333 206.305 5.93C206.305 6.14333 206.369 6.32 206.495 6.46C206.629 6.59333 206.792 6.7 206.985 6.78C207.179 6.85333 207.439 6.93667 207.765 7.03C208.159 7.13667 208.472 7.24 208.705 7.34C208.939 7.44 209.139 7.58667 209.305 7.78C209.472 7.97333 209.559 8.23 209.565 8.55C209.565 8.84333 209.485 9.10667 209.325 9.34C209.165 9.56667 208.942 9.74667 208.655 9.88C208.369 10.0133 208.039 10.08 207.665 10.08ZM78.0885 15.51C77.9485 15.51 77.8285 15.46 77.7285 15.36C77.6285 15.26 77.5785 15.1367 77.5785 14.99C77.5785 14.8433 77.6285 14.7233 77.7285 14.63C77.8285 14.53 77.9485 14.48 78.0885 14.48C78.2285 14.48 78.3485 14.53 78.4485 14.63C78.5485 14.7233 78.5985 14.8433 78.5985 14.99C78.5985 15.1367 78.5485 15.26 78.4485 15.36C78.3485 15.46 78.2285 15.51 78.0885 15.51ZM78.4385 16.54V22H77.7385V16.54H78.4385ZM82.5836 16.44C83.237 16.44 83.7703 16.6433 84.1836 17.05C84.597 17.45 84.8036 18.0333 84.8036 18.8V22H84.1136V18.88C84.1136 18.2867 83.9636 17.8333 83.6636 17.52C83.3703 17.2067 82.967 17.05 82.4536 17.05C81.927 17.05 81.507 17.2167 81.1936 17.55C80.8803 17.8833 80.7236 18.3733 80.7236 19.02V22H80.0236V16.54H80.7236V17.47C80.897 17.1367 81.147 16.8833 81.4736 16.71C81.8003 16.53 82.1703 16.44 82.5836 16.44ZM87.2618 17.13V20.52C87.2618 20.8533 87.3251 21.0833 87.4518 21.21C87.5784 21.3367 87.8018 21.4 88.1218 21.4H88.7618V22H88.0118C87.5184 22 87.1518 21.8867 86.9118 21.66C86.6718 21.4267 86.5518 21.0467 86.5518 20.52V17.13H85.7918V16.54H86.5518V15.17H87.2618V16.54H88.7618V17.13H87.2618ZM94.8562 18.99C94.8562 19.23 94.8495 19.4133 94.8362 19.54H90.3062C90.3262 19.9533 90.4262 20.3067 90.6062 20.6C90.7862 20.8933 91.0229 21.1167 91.3162 21.27C91.6095 21.4167 91.9295 21.49 92.2762 21.49C92.7295 21.49 93.1095 21.38 93.4162 21.16C93.7295 20.94 93.9362 20.6433 94.0362 20.27H94.7762C94.6429 20.8033 94.3562 21.24 93.9162 21.58C93.4829 21.9133 92.9362 22.08 92.2762 22.08C91.7629 22.08 91.3029 21.9667 90.8962 21.74C90.4895 21.5067 90.1695 21.18 89.9362 20.76C89.7095 20.3333 89.5962 19.8367 89.5962 19.27C89.5962 18.7033 89.7095 18.2067 89.9362 17.78C90.1629 17.3533 90.4795 17.0267 90.8862 16.8C91.2929 16.5733 91.7562 16.46 92.2762 16.46C92.7962 16.46 93.2495 16.5733 93.6362 16.8C94.0295 17.0267 94.3295 17.3333 94.5362 17.72C94.7495 18.1 94.8562 18.5233 94.8562 18.99ZM94.1462 18.97C94.1529 18.5633 94.0695 18.2167 93.8962 17.93C93.7295 17.6433 93.4995 17.4267 93.2062 17.28C92.9129 17.1333 92.5929 17.06 92.2462 17.06C91.7262 17.06 91.2829 17.2267 90.9162 17.56C90.5495 17.8933 90.3462 18.3633 90.3062 18.97H94.1462ZM96.8369 17.51C96.9902 17.17 97.2236 16.9067 97.5369 16.72C97.8569 16.5333 98.2469 16.44 98.7069 16.44V17.17H98.5169C98.0102 17.17 97.6036 17.3067 97.2969 17.58C96.9902 17.8533 96.8369 18.31 96.8369 18.95V22H96.1369V16.54H96.8369V17.51ZM104.7 18.99C104.7 19.23 104.693 19.4133 104.68 19.54H100.15C100.17 19.9533 100.27 20.3067 100.45 20.6C100.63 20.8933 100.867 21.1167 101.16 21.27C101.453 21.4167 101.773 21.49 102.12 21.49C102.573 21.49 102.953 21.38 103.26 21.16C103.573 20.94 103.78 20.6433 103.88 20.27H104.62C104.487 20.8033 104.2 21.24 103.76 21.58C103.327 21.9133 102.78 22.08 102.12 22.08C101.607 22.08 101.147 21.9667 100.74 21.74C100.333 21.5067 100.013 21.18 99.78 20.76C99.5533 20.3333 99.44 19.8367 99.44 19.27C99.44 18.7033 99.5533 18.2067 99.78 17.78C100.007 17.3533 100.323 17.0267 100.73 16.8C101.137 16.5733 101.6 16.46 102.12 16.46C102.64 16.46 103.093 16.5733 103.48 16.8C103.873 17.0267 104.173 17.3333 104.38 17.72C104.593 18.1 104.7 18.5233 104.7 18.99ZM103.99 18.97C103.997 18.5633 103.913 18.2167 103.74 17.93C103.573 17.6433 103.343 17.4267 103.05 17.28C102.757 17.1333 102.437 17.06 102.09 17.06C101.57 17.06 101.127 17.2267 100.76 17.56C100.393 17.8933 100.19 18.3633 100.15 18.97H103.99ZM107.861 22.08C107.234 22.08 106.721 21.9367 106.321 21.65C105.927 21.3567 105.707 20.96 105.661 20.46H106.381C106.414 20.7667 106.557 21.0167 106.811 21.21C107.071 21.3967 107.417 21.49 107.851 21.49C108.231 21.49 108.527 21.4 108.741 21.22C108.961 21.04 109.071 20.8167 109.071 20.55C109.071 20.3633 109.011 20.21 108.891 20.09C108.771 19.97 108.617 19.8767 108.431 19.81C108.251 19.7367 108.004 19.66 107.691 19.58C107.284 19.4733 106.954 19.3667 106.701 19.26C106.447 19.1533 106.231 18.9967 106.051 18.79C105.877 18.5767 105.791 18.2933 105.791 17.94C105.791 17.6733 105.871 17.4267 106.031 17.2C106.191 16.9733 106.417 16.7933 106.711 16.66C107.004 16.5267 107.337 16.46 107.711 16.46C108.297 16.46 108.771 16.61 109.131 16.91C109.491 17.2033 109.684 17.61 109.711 18.13H109.011C108.991 17.81 108.864 17.5533 108.631 17.36C108.404 17.16 108.091 17.06 107.691 17.06C107.337 17.06 107.051 17.1433 106.831 17.31C106.611 17.4767 106.501 17.6833 106.501 17.93C106.501 18.1433 106.564 18.32 106.691 18.46C106.824 18.5933 106.987 18.7 107.181 18.78C107.374 18.8533 107.634 18.9367 107.961 19.03C108.354 19.1367 108.667 19.24 108.901 19.34C109.134 19.44 109.334 19.5867 109.501 19.78C109.667 19.9733 109.754 20.23 109.761 20.55C109.761 20.8433 109.681 21.1067 109.521 21.34C109.361 21.5667 109.137 21.7467 108.851 21.88C108.564 22.0133 108.234 22.08 107.861 22.08ZM111.988 17.13V20.52C111.988 20.8533 112.052 21.0833 112.178 21.21C112.305 21.3367 112.528 21.4 112.848 21.4H113.488V22H112.738C112.245 22 111.878 21.8867 111.638 21.66C111.398 21.4267 111.278 21.0467 111.278 20.52V17.13H110.518V16.54H111.278V15.17H111.988V16.54H113.488V17.13H111.988ZM119.537 17.13H118.267V22H117.567V17.13H116.807V16.54H117.567V16.16C117.567 15.5667 117.717 15.13 118.017 14.85C118.324 14.57 118.817 14.43 119.497 14.43V15.03C119.044 15.03 118.724 15.1167 118.537 15.29C118.357 15.4633 118.267 15.7533 118.267 16.16V16.54H119.537V17.13ZM121.339 17.51C121.492 17.17 121.726 16.9067 122.039 16.72C122.359 16.5333 122.749 16.44 123.209 16.44V17.17H123.019C122.512 17.17 122.106 17.3067 121.799 17.58C121.492 17.8533 121.339 18.31 121.339 18.95V22H120.639V16.54H121.339V17.51ZM129.202 18.99C129.202 19.23 129.195 19.4133 129.182 19.54H124.652C124.672 19.9533 124.772 20.3067 124.952 20.6C125.132 20.8933 125.369 21.1167 125.662 21.27C125.955 21.4167 126.275 21.49 126.622 21.49C127.075 21.49 127.455 21.38 127.762 21.16C128.075 20.94 128.282 20.6433 128.382 20.27H129.122C128.989 20.8033 128.702 21.24 128.262 21.58C127.829 21.9133 127.282 22.08 126.622 22.08C126.109 22.08 125.649 21.9667 125.242 21.74C124.835 21.5067 124.515 21.18 124.282 20.76C124.055 20.3333 123.942 19.8367 123.942 19.27C123.942 18.7033 124.055 18.2067 124.282 17.78C124.509 17.3533 124.825 17.0267 125.232 16.8C125.639 16.5733 126.102 16.46 126.622 16.46C127.142 16.46 127.595 16.5733 127.982 16.8C128.375 17.0267 128.675 17.3333 128.882 17.72C129.095 18.1 129.202 18.5233 129.202 18.99ZM128.492 18.97C128.499 18.5633 128.415 18.2167 128.242 17.93C128.075 17.6433 127.845 17.4267 127.552 17.28C127.259 17.1333 126.939 17.06 126.592 17.06C126.072 17.06 125.629 17.2267 125.262 17.56C124.895 17.8933 124.692 18.3633 124.652 18.97H128.492ZM135.423 18.99C135.423 19.23 135.416 19.4133 135.403 19.54H130.873C130.893 19.9533 130.993 20.3067 131.173 20.6C131.353 20.8933 131.589 21.1167 131.883 21.27C132.176 21.4167 132.496 21.49 132.843 21.49C133.296 21.49 133.676 21.38 133.983 21.16C134.296 20.94 134.503 20.6433 134.603 20.27H135.343C135.209 20.8033 134.923 21.24 134.483 21.58C134.049 21.9133 133.503 22.08 132.843 22.08C132.329 22.08 131.869 21.9667 131.463 21.74C131.056 21.5067 130.736 21.18 130.503 20.76C130.276 20.3333 130.163 19.8367 130.163 19.27C130.163 18.7033 130.276 18.2067 130.503 17.78C130.729 17.3533 131.046 17.0267 131.453 16.8C131.859 16.5733 132.323 16.46 132.843 16.46C133.363 16.46 133.816 16.5733 134.203 16.8C134.596 17.0267 134.896 17.3333 135.103 17.72C135.316 18.1 135.423 18.5233 135.423 18.99ZM134.713 18.97C134.719 18.5633 134.636 18.2167 134.463 17.93C134.296 17.6433 134.066 17.4267 133.773 17.28C133.479 17.1333 133.159 17.06 132.813 17.06C132.293 17.06 131.849 17.2267 131.483 17.56C131.116 17.8933 130.913 18.3633 130.873 18.97H134.713ZM140.147 14.6V22H139.447V14.6H140.147ZM146.673 18.99C146.673 19.23 146.666 19.4133 146.653 19.54H142.123C142.143 19.9533 142.243 20.3067 142.423 20.6C142.603 20.8933 142.839 21.1167 143.133 21.27C143.426 21.4167 143.746 21.49 144.093 21.49C144.546 21.49 144.926 21.38 145.233 21.16C145.546 20.94 145.753 20.6433 145.853 20.27H146.593C146.459 20.8033 146.173 21.24 145.733 21.58C145.299 21.9133 144.753 22.08 144.093 22.08C143.579 22.08 143.119 21.9667 142.713 21.74C142.306 21.5067 141.986 21.18 141.753 20.76C141.526 20.3333 141.413 19.8367 141.413 19.27C141.413 18.7033 141.526 18.2067 141.753 17.78C141.979 17.3533 142.296 17.0267 142.703 16.8C143.109 16.5733 143.573 16.46 144.093 16.46C144.613 16.46 145.066 16.5733 145.453 16.8C145.846 17.0267 146.146 17.3333 146.353 17.72C146.566 18.1 146.673 18.5233 146.673 18.99ZM145.963 18.97C145.969 18.5633 145.886 18.2167 145.713 17.93C145.546 17.6433 145.316 17.4267 145.023 17.28C144.729 17.1333 144.409 17.06 144.063 17.06C143.543 17.06 143.099 17.2267 142.733 17.56C142.366 17.8933 142.163 18.3633 142.123 18.97H145.963ZM147.633 19.26C147.633 18.7 147.743 18.21 147.963 17.79C148.19 17.3633 148.5 17.0367 148.893 16.81C149.293 16.5767 149.743 16.46 150.243 16.46C150.763 16.46 151.21 16.58 151.583 16.82C151.963 17.06 152.237 17.3667 152.403 17.74V16.54H153.103V22H152.403V20.79C152.23 21.1633 151.953 21.4733 151.573 21.72C151.2 21.96 150.753 22.08 150.233 22.08C149.74 22.08 149.293 21.9633 148.893 21.73C148.5 21.4967 148.19 21.1667 147.963 20.74C147.743 20.3133 147.633 19.82 147.633 19.26ZM152.403 19.27C152.403 18.83 152.313 18.4433 152.133 18.11C151.953 17.7767 151.707 17.52 151.393 17.34C151.087 17.16 150.747 17.07 150.373 17.07C149.987 17.07 149.64 17.1567 149.333 17.33C149.027 17.5033 148.783 17.7567 148.603 18.09C148.43 18.4167 148.343 18.8067 148.343 19.26C148.343 19.7067 148.43 20.1 148.603 20.44C148.783 20.7733 149.027 21.03 149.333 21.21C149.64 21.3833 149.987 21.47 150.373 21.47C150.747 21.47 151.087 21.38 151.393 21.2C151.707 21.02 151.953 20.7633 152.133 20.43C152.313 20.0967 152.403 19.71 152.403 19.27ZM155.401 17.51C155.555 17.17 155.788 16.9067 156.101 16.72C156.421 16.5333 156.811 16.44 157.271 16.44V17.17H157.081C156.575 17.17 156.168 17.3067 155.861 17.58C155.555 17.8533 155.401 18.31 155.401 18.95V22H154.701V16.54H155.401V17.51ZM160.884 16.44C161.538 16.44 162.071 16.6433 162.484 17.05C162.898 17.45 163.104 18.0333 163.104 18.8V22H162.414V18.88C162.414 18.2867 162.264 17.8333 161.964 17.52C161.671 17.2067 161.268 17.05 160.754 17.05C160.228 17.05 159.808 17.2167 159.494 17.55C159.181 17.8833 159.024 18.3733 159.024 19.02V22H158.324V16.54H159.024V17.47C159.198 17.1367 159.448 16.8833 159.774 16.71C160.101 16.53 160.471 16.44 160.884 16.44ZM173.897 16.44C174.537 16.44 175.057 16.6433 175.457 17.05C175.863 17.45 176.067 18.0333 176.067 18.8V22H175.377V18.88C175.377 18.2867 175.233 17.8333 174.947 17.52C174.66 17.2067 174.27 17.05 173.777 17.05C173.263 17.05 172.853 17.22 172.547 17.56C172.24 17.9 172.087 18.3933 172.087 19.04V22H171.397V18.88C171.397 18.2867 171.253 17.8333 170.967 17.52C170.68 17.2067 170.287 17.05 169.787 17.05C169.273 17.05 168.863 17.22 168.557 17.56C168.25 17.9 168.097 18.3933 168.097 19.04V22H167.397V16.54H168.097V17.48C168.27 17.14 168.517 16.8833 168.837 16.71C169.157 16.53 169.513 16.44 169.907 16.44C170.38 16.44 170.793 16.5533 171.147 16.78C171.507 17.0067 171.767 17.34 171.927 17.78C172.073 17.3467 172.323 17.0167 172.677 16.79C173.037 16.5567 173.443 16.44 173.897 16.44ZM180.011 22.08C179.498 22.08 179.035 21.9667 178.621 21.74C178.215 21.5067 177.891 21.18 177.651 20.76C177.418 20.3333 177.301 19.8367 177.301 19.27C177.301 18.7033 177.421 18.21 177.661 17.79C177.901 17.3633 178.228 17.0367 178.641 16.81C179.055 16.5767 179.518 16.46 180.031 16.46C180.545 16.46 181.008 16.5767 181.421 16.81C181.841 17.0367 182.168 17.3633 182.401 17.79C182.641 18.21 182.761 18.7033 182.761 19.27C182.761 19.83 182.641 20.3233 182.401 20.75C182.161 21.1767 181.831 21.5067 181.411 21.74C180.991 21.9667 180.525 22.08 180.011 22.08ZM180.011 21.47C180.371 21.47 180.705 21.39 181.011 21.23C181.318 21.0633 181.565 20.8167 181.751 20.49C181.945 20.1567 182.041 19.75 182.041 19.27C182.041 18.79 181.948 18.3867 181.761 18.06C181.575 17.7267 181.328 17.48 181.021 17.32C180.715 17.1533 180.381 17.07 180.021 17.07C179.661 17.07 179.328 17.1533 179.021 17.32C178.715 17.48 178.468 17.7267 178.281 18.06C178.101 18.3867 178.011 18.79 178.011 19.27C178.011 19.75 178.101 20.1567 178.281 20.49C178.468 20.8167 178.711 21.0633 179.011 21.23C179.318 21.39 179.651 21.47 180.011 21.47ZM184.737 17.51C184.891 17.17 185.124 16.9067 185.437 16.72C185.757 16.5333 186.147 16.44 186.607 16.44V17.17H186.417C185.911 17.17 185.504 17.3067 185.197 17.58C184.891 17.8533 184.737 18.31 184.737 18.95V22H184.037V16.54H184.737V17.51ZM192.6 18.99C192.6 19.23 192.594 19.4133 192.58 19.54H188.05C188.07 19.9533 188.17 20.3067 188.35 20.6C188.53 20.8933 188.767 21.1167 189.06 21.27C189.354 21.4167 189.674 21.49 190.02 21.49C190.474 21.49 190.854 21.38 191.16 21.16C191.474 20.94 191.68 20.6433 191.78 20.27H192.52C192.387 20.8033 192.1 21.24 191.66 21.58C191.227 21.9133 190.68 22.08 190.02 22.08C189.507 22.08 189.047 21.9667 188.64 21.74C188.234 21.5067 187.914 21.18 187.68 20.76C187.454 20.3333 187.34 19.8367 187.34 19.27C187.34 18.7033 187.454 18.2067 187.68 17.78C187.907 17.3533 188.224 17.0267 188.63 16.8C189.037 16.5733 189.5 16.46 190.02 16.46C190.54 16.46 190.994 16.5733 191.38 16.8C191.774 17.0267 192.074 17.3333 192.28 17.72C192.494 18.1 192.6 18.5233 192.6 18.99ZM191.89 18.97C191.897 18.5633 191.814 18.2167 191.64 17.93C191.474 17.6433 191.244 17.4267 190.95 17.28C190.657 17.1333 190.337 17.06 189.99 17.06C189.47 17.06 189.027 17.2267 188.66 17.56C188.294 17.8933 188.09 18.3633 188.05 18.97H191.89Z" fill="black"/>
<path d="M138.647 23H193.08V23.5H138.647V23Z" fill="black"/>
<defs>
<clipPath id="clip0_208_5321">
<rect width="61" height="21" fill="white" transform="translate(0 1.5)"/>
</clipPath>
</defs>
</svg>

   <div className="flex flex-row gap-3">
    {product?.versions?.[chosenversion]?.images?.map((image, index) => (
  <button
    onClick={() => setimagechanger(index)}
    key={image.id}
    className={`w-5 h-5 rounded-full ${imagechanger === index ? "bg-[#0156FF]" : "bg-[#CACDD8]"}`}
  >
  </button>
))}

   </div>
  </div>
</div>
  <div className="px-6 block md:hidden">
    <ChoiceBars choices={bars} onChoiceSelect={(choice)=>{setselectedchoice(choice)}}/>
  </div>
  <div className="flex flex-col px-7 
  md:w-[55%] md:p-7 md:justify-center md:gap-5 md:h-[400px] md:bg-[#F5F7FF]
  lg:w-[60%]
  lg:h-[65vh]
  lg:relative
  ">
<h1 className="
lg:absolute lg:top-[25%] lg:left-[30%]
font-bold text-[22px]">{product?.name}</h1>
{/* About product */}
  <div className="lg:absolute lg:left-[30%] lg:top-[40%] lg:w-1/2">
    <div className={selectedchoice==="About Product"? "flex flex-col gap-4 lg:gap-9 mt-5":"hidden"
  
    
  }>
  <p className="line-clamp-4 text-[14px] font-normal ">{product?.description}MSI MPG Trident 3 10SC-005AU Intel i7 10700F, 2060 SUPER, 16GB RAM, 512GB SSD, 2TB HDD, Windows 10 Home, Gaming Keyboard and Mouse 3 Years Warranty Gaming Desktop</p>

  <div className="flex flex-row gap-3
 
  ">
  {product?.versions.map((version,index)=>{
   return (
    <button key={index}
    onClick={()=>{setchosenversion(index); setchosencolor(-1)}}
    className={`rounded-3xl  px-4 py-1 border-[2px] border-black font-bold flex justify-center items-center ${chosenversion ===index ?"bg-black text-white ":"hover:bg-gray-300"}`}>
     {version.storage_capacity}
    </button>
   );
  })}

  </div>

 <div className="flex flex-row gap-3 ">
     {product?.versions[chosenversion]?.colors?.map((color,index)=>{
    return (
        <button onClick={()=>{setchosencolor(index)}} className={`p-[2.5px] flex justify-center w-10 h-10 items-center border-[3px]  rounded-full ${chosencolor===index ? "border-[#0156FF]":"border-none"}`}>
            <div key={index} className={`w-full h-full rounded-full`}
         style={{ backgroundColor: color.code }}
        >
         
        </div>
        </button>
    );
  })}
 </div>
  </div>
  {/* Details */}
  <ul className={selectedchoice==="Details" && product?.versions[chosenversion].features?.length!==0 ? "flex flex-col px-5 gap-3 mt-5":"hidden"}>
    {product?.versions[chosenversion]?.features?.map((feature)=>{
      return (
        <li className="list-disc  text-sm font-thin font-poppins">
          {feature.value}
        </li>
      );
    })}
  </ul>
  {/* Specs container */}
  <div className={selectedchoice==="Specs" && product?.versions[chosenversion].features?.length!==0 ? " flex flex-col px-5  mt-5":"hidden"}>
   {product?.versions[chosenversion]?.features?.map((feature,index)=>{
     return (
      <div className={`flex  border-b border-b-white flex-row justify-between items-center md:w-full w-[70%] p-1 lg:-ml-5 ${index % 2 ===0 ? "md:bg-white md:z-10 bg-[#F5F7FF]":""}`}>
       <span className="font-medium text-sm ">{feature.title}</span>
        <span className="font-light text-sm">{feature.value}</span>
      </div>
     );

   })}
  </div>
  </div>
  
  </div>
   </div>
  <div className="
  md:flex-row md:py-3 md:w-full
  md:mt-0
  bg-white md:border-b-[3px] md:justify-end md:items-center md:order-first
   
  
  flex   md:m-0 flex-col px-5 gap-3">
    <div className="hidden md:block   md:w-[50%] md:order-1">
    <ChoiceBars choices={bars} onChoiceSelect={(choice)=>{setselectedchoice(choice)}}/>
  </div>
    {/* add to cart container */}
  <div className="
   md:p-0 md:gap-5 gap-2
  flex flex-row justify-between md:justify-end  w-full md:order-3">
    <div className="
    md:p-0 md:gap-0 
    flex font-bold flex-row gap-1 w-16 justify-around py-2 items-center rounded-md bg-[#E5ECF1]">
        {quantity}
        <div className="flex flex-col ">
        <svg onClick={quantity === product?.versions[chosenversion]?.stock ? undefined:()=>setquantity(quantity+1)} className={`w-4 h-4 
    ${quantity === product?.versions[chosenversion]?.stock ? "cursor-not-allowed opacity-40" : "cursor-pointer"}`} width="16" height="18" viewBox="0 0 16 18" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M6 9.8999L8 7.8999L10 9.8999" stroke="#A2A6B0" stroke-width="1.6" stroke-linecap="round"/>
</svg>

       <svg
  onClick={quantity === 1 ? undefined : () => setquantity(quantity - 1)}
  className={`w-4 h-4 
    ${quantity === 1 ? "cursor-not-allowed opacity-40" : "cursor-pointer"}`}
  width="16"
  height="18"
  viewBox="0 0 16 18"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    d="M10 8.82007L8 10.8201L6 8.82007"
    stroke="#A2A6B0"
    strokeWidth="1.6"
    strokeLinecap="round"
  />
</svg>


        </div>
    </div>
     <button onClick={()=>{
      if(product?.versions === null){
        addtoCart()
      }else{
      addtoCartwithproductid();
      }
     }} className="
     md:w-[160px] md:p-0
     bg-[#0156FF] hover:bg-[#0c5dffc3] text-white font-bold w-[160px] py-3 rounded-3xl">Add to Cart</button>
     <button className="bg-[#FFB800] hover:bg-[#fcd369] w-[160px] text-white font-bold px-8 py-3 rounded-3xl">
        <svg width="73" height="23" viewBox="0 0 73 23" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M56.1932 7.78003H52.5409C52.3261 7.78003 52.1113 7.99056 52.0039 8.20108L50.5 17.4642C50.5 17.6748 50.6074 17.78 50.8223 17.78H52.7558C52.9706 17.78 53.078 17.6748 53.078 17.4642L53.5077 14.8327C53.5077 14.6221 53.7225 14.4116 54.0448 14.4116H55.2264C57.697 14.4116 59.0935 13.2537 59.4157 10.9379C59.6306 9.99056 59.4157 9.14845 58.986 8.62214C58.3415 8.09582 57.3748 7.78003 56.1932 7.78003ZM56.6228 11.2537C56.408 12.5169 55.4412 12.5169 54.4745 12.5169H53.83L54.2596 10.0958C54.2596 9.99056 54.3671 9.88529 54.5819 9.88529H54.7967C55.4412 9.88529 56.0858 9.88529 56.408 10.3063C56.6228 10.4116 56.6228 10.7274 56.6228 11.2537Z" fill="#139AD6"/>
<path d="M28.1572 7.38013H24.2715C24.0429 7.38013 23.8144 7.6087 23.7001 7.83727L22.1001 17.8944C22.1001 18.123 22.2144 18.2372 22.443 18.2372H24.2715C24.5001 18.2372 24.7287 18.0087 24.8429 17.7801L25.3001 15.0372C25.3001 14.8087 25.5287 14.5801 25.8715 14.5801H27.1287C29.7572 14.5801 31.2429 13.323 31.5858 10.8087C31.8144 9.78012 31.5858 8.86584 31.1286 8.29441C30.4429 7.72298 29.5286 7.38013 28.1572 7.38013ZM28.6144 11.1515C28.3858 12.523 27.3572 12.523 26.3287 12.523H25.7572L26.2144 9.89441C26.2144 9.78012 26.3287 9.66583 26.5572 9.66583H26.7858C27.4715 9.66583 28.1572 9.66583 28.5001 10.123C28.6144 10.2373 28.7287 10.5801 28.6144 11.1515Z" fill="#263B80"/>
<path d="M39.9287 11.0374H38.1001C37.9858 11.0374 37.7573 11.1517 37.7573 11.266L37.643 11.8374L37.5287 11.6088C37.0716 11.0374 36.2716 10.8088 35.3573 10.8088C33.3001 10.8088 31.4716 12.4088 31.1287 14.5803C30.9002 15.7231 31.243 16.7517 31.8144 17.4374C32.3859 18.1231 33.1859 18.3517 34.2144 18.3517C35.9287 18.3517 36.843 17.3231 36.843 17.3231L36.7287 17.8945C36.7287 18.1231 36.843 18.2374 37.0716 18.2374H38.7858C39.0144 18.2374 39.243 18.0088 39.3573 17.7802L40.3858 11.3803C40.2716 11.266 40.043 11.0374 39.9287 11.0374ZM37.3001 14.6945C37.0716 15.7231 36.2716 16.5231 35.1287 16.5231C34.5573 16.5231 34.1001 16.2945 33.8716 16.066C33.643 15.7231 33.5287 15.266 33.5287 14.6945C33.643 13.666 34.5573 12.866 35.5859 12.866C36.1573 12.866 36.5001 13.0945 36.843 13.3231C37.1858 13.666 37.3001 14.2374 37.3001 14.6945Z" fill="#263B80"/>
<path d="M68.01 11.0225H66.0498C65.9273 11.0225 65.6823 11.1437 65.6823 11.2649L65.5598 11.8709L65.4373 11.6285C64.9472 11.0225 64.0897 10.78 63.1096 10.78C60.9044 10.78 58.9443 12.477 58.5767 14.78C58.3317 15.9922 58.6993 17.0831 59.3118 17.8103C59.9243 18.5376 60.7819 18.78 61.8845 18.78C63.7221 18.78 64.7022 17.6891 64.7022 17.6891L64.5797 18.2952C64.5797 18.5376 64.7022 18.6588 64.9472 18.6588H66.7849C67.0299 18.6588 67.2749 18.4164 67.3974 18.174L68.5 11.3861C68.3775 11.2649 68.255 11.0225 68.01 11.0225ZM65.1922 14.9012C64.9472 15.9921 64.0897 16.8406 62.8646 16.8406C62.252 16.8406 61.762 16.5982 61.517 16.3558C61.2719 15.9922 61.1494 15.5073 61.1494 14.9012C61.272 13.8103 62.252 12.9618 63.3546 12.9618C63.9672 12.9618 64.3347 13.2043 64.7022 13.4467C65.1922 13.8103 65.3148 14.4164 65.1922 14.9012Z" fill="#139AD6"/>
<path d="M50.2137 10.78H48.2899C48.0636 10.78 47.9504 10.895 47.8372 11.0099L45.3476 14.918L44.216 11.2398C44.1028 11.0099 43.9896 10.895 43.6501 10.895H41.8395C41.6132 10.895 41.5 11.1249 41.5 11.3547L43.537 17.4467L41.6132 20.2053C41.5 20.4352 41.6132 20.78 41.8395 20.78H43.6501C43.8765 20.78 43.9896 20.6651 44.1028 20.5501L50.3269 11.4697C50.6664 11.1249 50.44 10.78 50.2137 10.78Z" fill="#263B80"/>
<path d="M70.0556 8.05589L68.5 18.4341C68.5 18.6647 68.6111 18.78 68.8333 18.78H70.3889C70.6111 18.78 70.8333 18.5494 70.9444 18.3188L72.5 8.17121C72.5 7.94058 72.3889 7.82527 72.1667 7.82527H70.3889C70.2778 7.70995 70.1667 7.82527 70.0556 8.05589Z" fill="#139AD6"/>
<path d="M13.5638 4.13214C12.7686 3.23073 11.2918 2.78003 9.24706 2.78003H3.56715C3.22636 2.78003 2.88556 3.11806 2.77196 3.45608L0.5 18.2166C0.5 18.5547 0.727196 18.78 0.954393 18.78H4.47594L5.38472 13.2589V13.4843C5.49832 13.1462 5.83911 12.8082 6.17991 12.8082H7.88388C11.1782 12.8082 13.6774 11.4561 14.4726 7.73777C14.4726 7.6251 14.4726 7.51242 14.4726 7.39975C14.359 7.39975 14.359 7.39975 14.4726 7.39975C14.5862 5.93496 14.359 5.03355 13.5638 4.13214Z" fill="#263B80"/>
<path d="M14.212 6.78003C14.212 6.89768 14.212 7.01532 14.212 7.13297C13.4566 11.133 11.0826 12.4271 7.95314 12.4271H6.33448C6.01075 12.4271 5.68702 12.78 5.57911 13.133L4.5 20.3094C4.5 20.5447 4.60791 20.78 4.93164 20.78H7.73732C8.06105 20.78 8.38479 20.5447 8.38479 20.1918V20.0741L8.92434 16.4271V16.1918C8.92434 15.8389 9.24807 15.6036 9.57181 15.6036H10.0034C12.7012 15.6036 14.8594 14.4271 15.399 10.8977C15.6148 9.48591 15.5069 8.19179 14.8594 7.36826C14.7515 7.13297 14.5357 6.89768 14.212 6.78003Z" fill="#139AD6"/>
<path d="M13.5 7.13003C13.3889 7.13003 13.2778 7.01336 13.1667 7.01336C13.0556 7.01336 12.9444 7.01336 12.8333 6.89669C12.3889 6.78003 11.9444 6.78003 11.3889 6.78003H7.05556C6.94444 6.78003 6.83333 6.78003 6.72222 6.89669C6.5 7.01336 6.38889 7.24669 6.38889 7.48003L5.5 13.5467V13.78C5.61111 13.43 5.94444 13.08 6.27778 13.08H7.94444C11.1667 13.08 13.6111 11.68 14.3889 7.83003C14.3889 7.71336 14.3889 7.59669 14.5 7.48003C14.2778 7.36336 14.1667 7.2467 13.9444 7.2467C13.6111 7.13003 13.6111 7.13003 13.5 7.13003Z" fill="#232C65"/>
</svg>
</button>
   
  </div>

  {/* price container */}
  <div className="
  md:flex-col md:p-0 md:w-[20%] lg:w-fit lg:flex-row lg:gap-2 md:order-2 md:gap-0
  w-full p-3 gap-2 flex flex-row justify-center  items-center bg-[#F5F7FF] md:bg-white">
  <span className="text-lg">
    On Sale from 
  </span>
  <span className="font-bold text-lg"> ${(Number(product?.versions?.[chosenversion]?.price ?? product?.starting_price ?? 0) * quantity).toFixed(2)}</span>
  </div>
  </div>

      {/* features picture  */}
      <div className={`${product?.versions[chosenversion]?.features?.length===0?"hidden":"relative w-full  flex flex-col items-center bg-black md:flex-row md:justify-end  md:h-[550px]"}`}>
         <img 
         className=" w-full lg:object-center  md:w-[450px] md:h-[500px]  mt-9 lg:mt-2 lg:h-[80%]
         lg:w-1/3 lg:right-52 "
         src={product?.versions?.[chosenversion]?.features?.[0]?.image ?? ""} alt="features" />
         <div  className="absolute  top-1/2 left-[10%] right-[10%] md:top-1/4 md:left-[3%] md:w-auto
         lg:ml-[15%]
           ">
       
           
             <h2 className="text-white text-3xl font-bold">Outplay the Competittion</h2>
           
             
        
         
         </div>
          <span className="absolute px-6 top-[60%] md:top-[40%] md:w-[60%] md:left-0 text-white
          lg:ml-[15%] lg:w-[30%]
          ">{newliner(product?.versions?.[chosenversion]?.features?.[0]?.description ?? product?.description ?? "")}
         </span>
         
         
      </div>
      {/* support container */}
     <div className="relative bg-[#F5F7FF] md:flex md:flex-row md:justify-center md:gap-7 md:items-center w-full">
  <div className="absolute z-10 md:z-0 md:static flex flex-col gap-5 my-8 ml-6">
    <div className="bg-white w-[270px] md:w-[347px] text-[#313131] font-medium text-[16px] h-10 flex justify-between items-center border px-3 border-gray-200">
      <span>Product Support</span>
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" strokeWidth={1.5} stroke="currentColor" className="h-4 w-4 cursor-pointer text-[#0156FF]">
        <path strokeLinecap="round" strokeLinejoin="round" d="M17.25 8.25 21 12m0 0-3.75 3.75M21 12H3" />
      </svg>
      
    </div>

    <div className="bg-white w-[270px] md:w-[347px] h-10 flex justify-between px-3 items-center border border-gray-200">
      <span>FAQ</span>
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" strokeWidth={1.5} stroke="currentColor" className="h-4 w-4 cursor-pointer text-[#0156FF]">
        <path strokeLinecap="round" strokeLinejoin="round" d="M17.25 8.25 21 12m0 0-3.75 3.75M21 12H3" />
      </svg>
    </div>

    <div className="bg-white w-[270px] md:w-[347px] h-10 flex justify-between px-3 items-center border border-gray-200">
      <span>Our Buyer Guide</span>
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" strokeWidth={1.5} stroke="currentColor" className="h-4 w-4 cursor-pointer text-[#0156FF]">
        <path strokeLinecap="round" strokeLinejoin="round" d="M17.25 8.25 21 12m0 0-3.75 3.75M21 12H3" />
      </svg>
    </div>
  </div>

  <div className="w-screen md:w-[656px] h-[300px] bg-[#F5F7FF] relative overflow-hidden">
    <img
      src="/images/support.png"
      alt="support"
      className="w-full h-full object-cover mix-blend-multiply"
    />
  </div>
</div>

      <div className="  flex flex-col p-5 bg-gradient-radial from-[#242528]  to-[#040404] items-center gap-16 text-white">
          <div className=" flex flex-col items-center gap-8">
            <h1 className="font-bold text-3xl text-white">Featrues</h1>
          </div>
         <div className=" flex flex-col items-center gap-10
         md:grid md:grid-cols-2 lg:grid-cols-4 lg:gap-0 lg:w-full 
         ">
           {product?.versions?.[chosenversion]?.features?.slice(1,).map((feature)=>{
            return(
              <div className="flex flex-col items-center gap-10">
                <img className="rounded-full w-[80px] h-[80px] " src={feature.image?? ""} alt="image" />
                <span className="px-10">{feature.description} </span>
              </div>
            );
           })}
           </div>
         </div>

    </div>
    
<SupportAndMore/>  
    </>
);  
}